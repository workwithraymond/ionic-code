{"version":3,"file":"src_app_pages_tabs_account_account_module_ts.js","mappings":"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","sources":["./src/app/components/orders/orders.component.ts","./src/app/models/order.model.ts","./src/app/pages/tabs/account/account-routing.module.ts","./src/app/pages/tabs/account/account.module.ts","./src/app/pages/tabs/account/account.page.ts","./src/app/services/order/order.service.ts"],"sourcesContent":["import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { Order } from 'src/app/models/order.model';\n\n@Component({\n  selector: 'app-orders',\n  templateUrl: './orders.component.html',\n  styleUrls: ['./orders.component.scss'],\n})\nexport class OrdersComponent implements OnInit {\n\n  @Input() order: Order;\n  @Output() reorder: EventEmitter<any> = new EventEmitter();\n  @Output() help: EventEmitter<any> = new EventEmitter();\n\n  constructor() {}\n\n  ngOnInit() {}\n\n  reorderItem() {\n    this.reorder.emit(this.order);\n  }\n\n  getHelp() {\n    this.help.emit(this.order);\n  }\n\n}\n\n","import { Address } from \"./address.model\";\r\nimport { Item } from \"./item.model\";\r\nimport { Restaurant } from \"./restaurant.model\";\r\n\r\nexport class Order {\r\n    constructor(\r\n        public address: Address,\r\n        public restaurant: Restaurant,\r\n        public restaurant_id: string,\r\n        public order: Item[],\r\n        public total: number,\r\n        public grandTotal: number,\r\n        public deliveryCharge: number,\r\n        public status: string,\r\n        public time: string,\r\n        public paid: string,\r\n        public id?: string,\r\n        public user_id?: string,\r\n        public instruction?: string,\r\n    ) {}\r\n}","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AccountPage } from './account.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AccountPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AccountPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AccountPageRoutingModule } from './account-routing.module';\n\nimport { AccountPage } from './account.page';\nimport { OrdersComponent } from 'src/app/components/orders/orders.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AccountPageRoutingModule\n  ],\n  declarations: [AccountPage, OrdersComponent]\n})\nexport class AccountPageModule {}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { Order } from 'src/app/models/order.model';\nimport { CartService } from 'src/app/services/cart/cart.service';\nimport { OrderService } from 'src/app/services/order/order.service';\n\n@Component({\n  selector: 'app-account',\n  templateUrl: './account.page.html',\n  styleUrls: ['./account.page.scss'],\n})\nexport class AccountPage implements OnInit, OnDestroy {\n\n  profile: any = {};\n  isLoading: boolean;\n  orders: Order[] = [];\n  ordersSub: Subscription;\n\n  constructor(\n    private orderService: OrderService,\n    private cartService: CartService\n    ) { }\n\n  ngOnInit() {\n    this.ordersSub = this.orderService.orders.subscribe(order => {\n      console.log('order data: ', order);\n      this.orders = order;\n      // if(order instanceof Array) {\n      //   this.orders = order;\n      // } else {\n      //   if(order?.delete) {\n      //     this.orders = this.orders.filter(x => x.id != order.id);\n      //   } else if(order?.update) {\n      //     const index = this.orders.findIndex(x => x.id == order.id);\n      //     this.orders[index] = order;\n      //   } else {\n      //     this.orders = this.orders.concat(order);\n      //   }\n      // }\n    }, e => {\n      console.log(e);\n    });\n    this.getData();\n  }\n\n  async getData() {\n    this.isLoading = true;\n    setTimeout(async() => {\n      this.profile = {      \n        name: 'Raymond Del Rosario',\n        phone: '3477301572',\n        email: 'workwithraymond01@gmail.com'  \n      };\n      await this.orderService.getOrders();\n      this.isLoading = false;      \n    }, 3000);\n  }\n\n  logout() {}\n\n  async reorder(order: Order) {\n    console.log(order);\n    let data = await this.cartService.getCart();\n    console.log('data: ', data);\n    if(data?.value) {\n      this.cartService.alertClearCart(null, null, null, order);\n    } else {\n      this.cartService.orderToCart(order);\n    }\n  }\n\n  getHelp(order) {\n    console.log(order);\n  }\n\n  ngOnDestroy() {\n    if(this.ordersSub) this.ordersSub.unsubscribe();\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { Order } from 'src/app/models/order.model';\nimport { ApiService } from '../api/api.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OrderService {\n\n  private _orders = new BehaviorSubject<Order[]>([]);\n\n  get orders() {\n    return this._orders.asObservable();\n  }\n\n  constructor(private api: ApiService) { }\n\n  getOrders() {\n    try {\n      const orders = this.api.orders;\n      console.log('orders', orders);\n      this._orders.next(orders);\n    } catch(e) {\n      throw(e);\n    }\n  }\n\n  placeOrder(param) {\n    try {\n      param.user_id = '1';\n      // param.order = JSON.stringify(param.order);\n      // param.order = JSON.parse(param.order);\n      param.id = '5aG0RsPuze8NX00B7uE2';\n      // let currentOrders = this._orders.value;\n      console.log('latest order: ', param);\n      let currentOrders: Order[] = [];\n      currentOrders.push(new Order(\n        param.address,\n        param.restaurant,\n        param.restaurant_id,\n        param.order,\n        param.total,\n        param.grandTotal,\n        param.deliveryCharge,\n        param.status,\n        param.time,\n        param.paid,    \n        param.id,\n        param.user_id,\n        param.instruction    \n      ));\n      console.log('latest order: ', currentOrders);\n      currentOrders = currentOrders.concat(this._orders.value);\n      console.log('orders: ', currentOrders);\n      this._orders.next(currentOrders);\n    } catch(e) {\n      throw(e);\n    }\n  }\n\n}\n"],"names":["Component","CartService","OrderService","AccountPage","constructor","orderService","cartService","ngOnInit","ordersSub","orders","subscribe","order","console","log","e","getData","isLoading","setTimeout","profile","name","phone","email","getOrders","logout","reorder","data","getCart","value","alertClearCart","orderToCart","getHelp","ngOnDestroy","unsubscribe","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}